<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check data for input into BchronCalibrate or Bchronology — BchronCheck • Bchron</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Check data for input into BchronCalibrate or Bchronology — BchronCheck" />
<meta property="og:description" content="Function to be used for checking the data formats in BchronCalibrate and Bchronology. Mostly to be used internally to avoid Bchron running into problems with bad data specifications, but might also be useful for" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Bchron</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.7.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Bchron.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/andrewcparnell/Bchron/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check data for input into BchronCalibrate or Bchronology</h1>
    <small class="dont-index">Source: <a href='https://github.com/andrewcparnell/Bchron/blob/master/R/BchronCheck.R'><code>R/BchronCheck.R</code></a></small>
    <div class="hidden name"><code>BchronCheck.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to be used for checking the data formats in <code><a href='BchronCalibrate.html'>BchronCalibrate</a></code> and <code><a href='Bchronology.html'>Bchronology</a></code>. Mostly to be used internally to avoid Bchron running into problems with bad data specifications, but might also be useful for</p>
    </div>

    <pre class="usage"><span class='fu'>BchronCheck</span><span class='op'>(</span>
  <span class='va'>ages</span>,
  <span class='va'>ageSds</span>,
  positions <span class='op'>=</span> <span class='cn'>NULL</span>,
  pathToCalCurves <span class='op'>=</span> <span class='cn'>NULL</span>,
  calCurves <span class='op'>=</span> <span class='cn'>NULL</span>,
  positionThicknesses <span class='op'>=</span> <span class='cn'>NULL</span>,
  ids <span class='op'>=</span> <span class='cn'>NULL</span>,
  outlierProbs <span class='op'>=</span> <span class='cn'>NULL</span>,
  predictPositions <span class='op'>=</span> <span class='cn'>NULL</span>,
  jitterPositions <span class='op'>=</span> <span class='cn'>NULL</span>,
  iterations <span class='op'>=</span> <span class='cn'>NULL</span>,
  burn <span class='op'>=</span> <span class='cn'>NULL</span>,
  thin <span class='op'>=</span> <span class='cn'>NULL</span>,
  extractDate <span class='op'>=</span> <span class='cn'>NULL</span>,
  maxExtrap <span class='op'>=</span> <span class='cn'>NULL</span>,
  thetaMhSd <span class='op'>=</span> <span class='cn'>NULL</span>,
  muMhSd <span class='op'>=</span> <span class='cn'>NULL</span>,
  psiMhSd <span class='op'>=</span> <span class='cn'>NULL</span>,
  ageScaleVal <span class='op'>=</span> <span class='cn'>NULL</span>,
  positionEps <span class='op'>=</span> <span class='cn'>NULL</span>,
  positionNormalise <span class='op'>=</span> <span class='cn'>NULL</span>,
  eps <span class='op'>=</span> <span class='cn'>NULL</span>,
  dfs <span class='op'>=</span> <span class='cn'>NULL</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"BchronCalibrate"</span>, <span class='st'>"Bchronology"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ages</th>
      <td><p>A vector of ages provided in years before 1950.</p></td>
    </tr>
    <tr>
      <th>ageSds</th>
      <td><p>A vector of 1-sigma values for the ages given above</p></td>
    </tr>
    <tr>
      <th>positions</th>
      <td><p>Position values (e.g. depths) for each age</p></td>
    </tr>
    <tr>
      <th>pathToCalCurves</th>
      <td><p>File path to where the calibration curves are located. Defaults to the system directory where the 3 standard calibration curves are stored.</p></td>
    </tr>
    <tr>
      <th>calCurves</th>
      <td><p>A vector of values containing either <code>intcal20</code>, <code>shcal20</code>, <code>marine20</code>, or <code>normal</code> (older calibration curves are supposed such as intcal13). Should be the same length the number of ages supplied. Non-standard calibration curves can be used provided they are supplied in the same format as those previously mentioned and are placed in the same directory. Normal indicates a normally-distributed (non-14C) age.</p></td>
    </tr>
    <tr>
      <th>positionThicknesses</th>
      <td><p>Thickness values for each of the positions. The thickness value should be the full thickness value of the slice. By default set to zero.</p></td>
    </tr>
    <tr>
      <th>ids</th>
      <td><p>ID names for each age</p></td>
    </tr>
    <tr>
      <th>outlierProbs</th>
      <td><p>A vector of prior outlier probabilities, one for each age. Defaults to 0.01</p></td>
    </tr>
    <tr>
      <th>predictPositions</th>
      <td><p>A vector of positions (e.g. depths) at which predicted age values are required. Defaults to a sequence of length 100 from the top position to the bottom position</p></td>
    </tr>
    <tr>
      <th>jitterPositions</th>
      <td><p>Whether to jigger the positions at startup or not. Default is FALSE but if there are lots of dates at similar depths this may resolve some initialisation problems</p></td>
    </tr>
    <tr>
      <th>iterations</th>
      <td><p>The number of iterations to run the procedure for</p></td>
    </tr>
    <tr>
      <th>burn</th>
      <td><p>The number of starting iterations to discard</p></td>
    </tr>
    <tr>
      <th>thin</th>
      <td><p>The step size for every iteration to keep beyond the burnin</p></td>
    </tr>
    <tr>
      <th>extractDate</th>
      <td><p>The top age of the core. Used for extrapolation purposes so that no extrapolated ages go beyond the top age of the core. Defaults to the current year</p></td>
    </tr>
    <tr>
      <th>maxExtrap</th>
      <td><p>The maximum number of extrapolations to perform before giving up and setting the predicted ages to NA. Useful for when large amounts of extrapolation are required, i.e. some of the predictPositions are a long way from the dated positions</p></td>
    </tr>
    <tr>
      <th>thetaMhSd</th>
      <td><p>The Metropolis-Hastings standard deviation for the age parameters</p></td>
    </tr>
    <tr>
      <th>muMhSd</th>
      <td><p>The Metropolis-Hastings standard deviation for the Compound Poisson-Gamma mean</p></td>
    </tr>
    <tr>
      <th>psiMhSd</th>
      <td><p>The Metropolis-Hastings standard deviation for the Compound Poisson-Gamma scale</p></td>
    </tr>
    <tr>
      <th>ageScaleVal</th>
      <td><p>A scale value for the ages. <code>Bchronology</code> works best when the ages are scaled to be approximately between 0 and 100. The default value is thus 1000 for ages given in years.</p></td>
    </tr>
    <tr>
      <th>positionEps</th>
      <td><p>A small value used to check whether simulated positions are far enough apart to avoid numerical underflow errors. If errors occur in model runs (e.g. <code>missing value where TRUE/FALSE needed</code> increase this value)</p></td>
    </tr>
    <tr>
      <th>positionNormalise</th>
      <td><p>Whether to normalise the position values. <code>Bchronology</code> works best when the positions are normalise to be between 0 and 1 The default value is <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>Cut-off point for density calculation. A value of eps&gt;0 removes ages from the output which have negligible probability density</p></td>
    </tr>
    <tr>
      <th>dfs</th>
      <td><p>Degrees-of-freedom values for the t-distribution associated with the calibration calculation. A large value indicates Gaussian distributions assumed for the 14C ages</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Whether this function has been called to check parameters for calibration purposes (<code>BchronCalibrate</code>) or chronology purposes (<code>Bchronology</code>)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function returns nothing other than a message.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Glendalough</span><span class='op'>)</span>

<span class='co'># Check the Glendalough data are in the right format</span>
<span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span>
  <span class='va'>Glendalough</span>,
  <span class='fu'>BchronCheck</span><span class='op'>(</span><span class='va'>ages</span>,
    <span class='va'>ageSds</span>,
    <span class='va'>position</span>,
    pathToCalCurves <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"data"</span>, package <span class='op'>=</span> <span class='st'>"Bchron"</span><span class='op'>)</span>,
    <span class='va'>calCurves</span>,
    type <span class='op'>=</span> <span class='st'>"BchronCalibrate"</span>
  <span class='op'>)</span>
<span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrew Parnell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


